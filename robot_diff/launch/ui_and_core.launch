<launch>
  <!-- 1️⃣ all the nodes you normally start -->
  <include file="$(find robot_diff)/launch/demarage.launch"/>

  <!-- 2️⃣ the service that kicks off demarage when React pings it -->
  <node pkg="robot_diff"
        type="run_script_server.py"
        name="run_script_server"
        output="log"/>

  <!-- rosbridge waits for master instead of dying at login -->
  <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch">
    <arg name="wait_for_master" value="true"/>
    <arg name="port" value="9090"/>   <!-- keep or change to match Config.js -->
  </include>
  
</launch>

